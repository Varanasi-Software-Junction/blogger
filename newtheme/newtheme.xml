<!DOCTYPE html>
<html b:version='2' xmlns='http://www.w3.org/1999/xhtml'
      xmlns:b='http://www.google.com/2005/gml/b'
      xmlns:data='http://www.google.com/2005/gml/data'
      xmlns:expr='http://www.google.com/2005/gml/expr'>

  <head>
    <title><data:blog.pageTitle/></title>
    <b:skin><![CDATA[
      body {
        background-color: #f0f8ff;
        font-family: 'Verdana', sans-serif;
        color: #333;
        margin: 0;
        padding: 0;
      }

      header, footer {
        background-color: #4682b4;
        color: white;
        text-align: center;
        padding: 1em;
      }

      .content-wrapper {
        display: flex;
        align-items: flex-start;
      }

      main {
        flex: 3;
        padding: 1em;
      }

      #sidebar {
        flex: 1;
        background-color: #eaf6ff;
        padding: 1em;
        border-right: 2px solid #4682b4;
        transition: all 0.3s ease;
        display: block;
      }

      #sidebar.hidden {
        display: none;
      }

      #sidebar-toggle {
        background-color: #2874a6;
        color: white;
        border: none;
        padding: 0.5em 1em;
        cursor: pointer;
        font-weight: bold;
        margin: 1em;
        border-radius: 4px;
      }

      .post {
        background-color: white;
        border: 1px solid #d0e6f7;
        padding: 1.5em;
        margin-bottom: 2em;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        border-radius: 8px;
      }

      .post-title {
        font-size: 1.8em;
        color: #2874a6;
        margin-bottom: 0.5em;
        font-family: 'Georgia', serif;
      }

      .post-body {
        font-size: 1.1em;
        line-height: 1.7;
        color: #333;
      }

      .post-footer {
        font-size: 0.9em;
        color: #666;
        margin-top: 1em;
        border-top: 1px dashed #ccc;
        padding-top: 0.5em;
      }

      #latest-post-notification {
        background-color: #5dade2;
        color: white;
        text-align: center;
        padding: 0.8em;
        font-size: 1em;
      }

      #latest-post-notification a {
        color: #fff;
        text-decoration: underline;
      }

      .sidebar-nav {
        margin-top: 1em;
        background-color: #eaf6ff;
        padding: 1em;
        border: 1px solid #d0e6f7;
        border-radius: 8px;
      }

      .nav-menu {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .nav-item {
        margin-bottom: 1em;
      }

      .nav-title {
        font-weight: bold;
        color: #2874a6;
        cursor: pointer;
        display: block;
        margin-bottom: 0.5em;
      }

      .nav-title::after {
        content: " â–¼";
        font-size: 0.8em;
        color: #4682b4;
      }

      .nav-title.active::after {
        content: " â–²";
      }

      .sub-menu {
        display: none;
        list-style: none;
        padding-left: 1em;
        margin: 0;
      }

      .sub-menu li a {
        color: #333;
        text-decoration: none;
        display: block;
        padding: 0.3em 0;
      }

      .sub-menu li a:hover {
        color: #2874a6;
        text-decoration: underline;
      }

      @media screen and (max-width: 768px) {
        .content-wrapper {
          flex-direction: column;
        }

        #sidebar {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          overflow-y: auto;
          z-index: 1000;
          transform: translateX(-100%);
        }

        #sidebar.visible {
          transform: translateX(0);
        }

        #sidebar-toggle {
          position: fixed;
          top: 1em;
          left: 1em;
          z-index: 1100;
        }
      }
    ]]></b:skin>
  </head>

  <body>
    <header>
      <h1><data:blog.title/></h1>
      <p><data:blog.description/></p>
      <button id="sidebar-toggle">â˜° Menu</button>
    </header>

    <div id="latest-post-notification">
      Loading latest post...
    </div>

    <div class="content-wrapper">
      <aside id="sidebar">
        <b:section id='sidebar-widgets' class='sidebar' showaddelement='yes'>
          <b:widget id='Profile1' type='Profile' title='About Champak'/>
          <b:widget id='BlogArchive1' type='BlogArchive' title='Archive'/>
        </b:section>

        <div class="sidebar-nav">
          <ul class="nav-menu">
            <li class="nav-item">
              <span class="nav-title nav-toggle">Chapters</span>
              <ul class="sub-menu">
                <li><a href="/p/chapter-1-orchard-awakens.html">Chapter 1</a></li>
                <li><a href="/p/chapter-2-pebble-games.html">Chapter 2</a></li>
                <li><a href="/p/chapter-3-mango-multiples.html">Chapter 3</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <span class="nav-title nav-toggle">Games</span>
              <ul class="sub-menu">
                <li><a href="/p/pebble-counting.html">Pebble Counting</a></li>
                <li><a href="/p/positional-play.html">Positional Play</a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="/p/about.html">About</a>
            </li>
          </ul>
        </div>
      </aside>

      <main>
        <b:section id='main' class='main' showaddelement='yes'>
          <b:widget id='Blog1' type='Blog' title='Posts'/>
        </b:section>
      </main>
    </div>

    <footer>
      <p>Â© <data:blog.title/> â€“ All rights reserved</p>
      <p>
        Connect: 
        <a href='https://twitter.com/yourhandle' target='_blank'>Twitter</a> | 
        <a href='https://instagram.com/yourhandle' target='_blank'>Instagram</a>
      </p>
    </footer>

   <script>
  // Latest post notification
  fetch('https://mycustomtemplate1.blogspot.com/feeds/posts/default?alt=json')
    .then(response => response.json())
    .then(data => {
      const latest = data.feed.entry[0];
      const title = latest.title.$t;
      const link = latest.link.find(l => l.rel === 'alternate').href;
      document.getElementById('latest-post-notification').innerHTML =
        `ðŸ†• New post: <a href="${link}" target="_blank">${title}</a>`;
    })
    .catch(() => {
      document.getElementById('latest-post-notification').innerText =
        'Could not load latest post.';
    });

  // Collapsible sidebar menu
  document.querySelectorAll('.nav-toggle').forEach(function(toggle) {
    toggle.addEventListener('click', function() {
      const submenu = this.nextElementSibling;
      const isOpen = submenu.style.display === 'block';
      submenu.style.display = isOpen ? 'none' : 'block';
      this.classList.toggle('active', !isOpen);
    });
  });

  // Sidebar open/close toggle
  const sidebar = document.getElementById('sidebar');
  const toggleBtn = document.getElementById('sidebar-toggle');

  toggleBtn.addEventListener('click', function() {
    const isMobile = window.innerWidth <= 768;

    if (isMobile) {
      sidebar.classList.toggle('visible');
      this.textContent = sidebar.classList.contains('visible') ? 'âœ– Close Menu' : 'â˜° Open Menu';
    } else {
      sidebar.classList.toggle('hidden');
      this.textContent = sidebar.classList.contains('hidden') ? 'â˜° Open Menu' : 'âœ– Close Menu';
    }
  });
</script>
     </body>
     </html>