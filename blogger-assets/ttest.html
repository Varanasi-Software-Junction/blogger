<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <!--
Learning Sutras ‚Äî CRX Template v1.2 (TOC toggle fixed)
By Champak Roy
-->
  <link rel="stylesheet" href="https://varanasi-software-junction.github.io/blogger/blogger-assets/crx_styles_v1.css">
  <script src="https://varanasi-software-junction.github.io/blogger/blogger-assets/crx_ui_v1.js" defer></script>

  <style>
    :root {
      --accent: #0b5ed7;
      --muted: #6c757d;
      --bg: #f7f9fc;
      --card-bg: #fff;
      --text: #0b1a2b;
    }

    body.crx_dark {
      --card-bg: #0f1720;
      --bg: #071021;
      --text: #e6eef9;
      --muted: #9aa9c2;
    }

    .crx_post {
      background: var(--card-bg);
      color: var(--text);
      padding: 1.25rem;
      border-radius: 14px;
      margin: 1rem 0;
    }

    .crx_post_header {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .crx_avatar_svg {
      width: 64px;
      height: 64px;
      border-radius: 50%;
    }

    .crx_action_row {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin: .75rem 0;
    }

    .crx_progress_wrap {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 4px;
      z-index: 3000;
    }

    .crx_progress_bar {
      height: 4px;
      width: 0;
      background: var(--accent);
      transition: width .18s linear;
      box-shadow: 0 2px 6px rgba(11, 94, 215, .18);
    }

    .crx_topic_card {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 12px;
      background: var(--card-bg);
      box-shadow: 0 6px 18px rgba(2, 6, 23, .04);
    }

    .crx_topic_media {
      flex: 0 0 160px;
      max-width: 160px;
      width: 100%;
    }

    .crx_topic_media svg {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 10px;
    }

    .crx_topic_body {
      flex: 1 1 320px;
      min-width: 220px;
    }

    @media(max-width:700px) {
      .crx_topic_card {
        flex-direction: column;
        align-items: center;
        text-align: left;
      }

      .crx_topic_media {
        max-width: 320px;
      }

      .crx_topic_body {
        width: 100%;
      }
    }

    .crx_copy_btn {
      position: absolute;
      right: 10px;
      top: 10px;
      z-index: 3;
    }

    .crx_badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(11, 94, 215, .08);
      color: var(--accent);
      font-weight: 600;
      font-size: 12px;
    }

    summary {
      cursor: pointer;
      font-weight: 600;
    }

    summary::marker {
      color: var(--accent);
    }

    /* Floating TOC box */
    .crx_toc {
      position: fixed;
      right: 70px;
      top: 90px;
      width: 220px;
      max-height: 70vh;
      overflow: auto;
      background: var(--card-bg);
      padding: .75rem;
      border-radius: 10px;
      box-shadow: 0 6px 18px rgba(2, 6, 23, .12);
      z-index: 2400;
      transition: transform .25s ease, opacity .25s ease;
    }

    .crx_toc.hidden {
      transform: translateX(260px);
      opacity: 0;
      pointer-events: none;
    }

    .crx_toc h4 {
      margin: 0 0 .5rem 0;
      font-size: .95rem;
    }

    .crx_toc a {
      display: block;
      padding: 6px;
      border-radius: 6px;
      text-decoration: none;
      color: var(--text);
    }

    .crx_toc a.active {
      background: rgba(11, 94, 215, 0.08);
      color: var(--accent);
    }

    @media(max-width:980px) {
      .crx_toc {
        display: none;
      }
    }

    /* Floating always-visible toggle button */
    #crxTocToggleBtn {
      position: fixed;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 2600;
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 42px;
      height: 42px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 3px 12px rgba(11, 94, 215, .3);
      transition: background .3s;
    }

    #crxTocToggleBtn:hover {
      background: #0846aa;
    }
  </style>

  <div class="crx_progress_wrap">
    <div id="crxProgress" class="crx_progress_bar"></div>
  </div>

  <!-- Floating TOC toggle (always visible) -->
  <button id="crxTocToggleBtn" title="Open contents" aria-expanded="false" aria-controls="crxToc">‚ò∞</button>

  <!-- Floating TOC (starts hidden; will be restored from localStorage) -->
  <nav class="crx_toc hidden" id="crxToc" aria-label="Table of contents">
    <h4>Contents</h4>
    <div id="crxTocList"></div>
  </nav>

  <article class="crx_post" role="main" aria-labelledby="post-title">
    <header class="crx_post_header">
      <svg class="crx_avatar_svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" role="img"
        aria-label="Avatar placeholder">
        <defs>
          <linearGradient id="gradA">
            <stop offset="0" stop-color="#0b5ed7" />
            <stop offset="1" stop-color="#5bc0eb" />
          </linearGradient>
        </defs>
        <circle cx="60" cy="60" r="60" fill="url(#gradA)" />
        <circle cx="60" cy="44" r="18" fill="#fff" />
        <rect x="34" y="76" width="52" height="18" rx="9" fill="#fff" />
      </svg>

      <div style="flex:1;">
        <h1 id="post-title">[DUMMY] 3-Month AI/ML & Data Science Internship</h1>
        <div style="display:flex;gap:.75rem;align-items:center;margin-top:6px;">
          <div class="crx_badge" id="readingTime">‚è± ‚Äî</div>
          <div style="color:var(--muted);font-size:.92rem;">By <strong>Champak Roy</strong> ¬∑ Updated: <time
              datetime="2025-10-08">Oct 8, 2025</time></div>
        </div>
      </div>

      <div style="margin-left:1rem;text-align:right;">
        <button id="crxThemeToggle" class="crx_btn" title="Toggle dark mode" aria-pressed="false">üåô</button><br>
        <small style="color:var(--muted);font-size:11px;">Theme</small>
      </div>
    </header>

    <div class="crx_action_row">
      <a class="crx_btn" href="https://wa.me/919335874326" target="_blank">Contact on WhatsApp</a>
      <button id="downloadPDF" class="crx_btn crx_btn_outline">Download PDF</button>
      <a class="crx_btn crx_btn_primary" href="#topics">Jump to Topics</a>
    </div>

    <section class="crx_content" id="post-content">
      <details open data-crx-section="intro">
        <summary>üß† Introduction</summary>
        <p class="crx_p">[DUMMY] This introduction describes the course in short. Replace this paragraph with your real
          intro text.</p>
      </details>

      <details data-crx-section="importance">
        <summary>üí° Importance</summary>
        <p class="crx_p">[DUMMY] Why this course matters.</p>
      </details>

      <details data-crx-section="keywords">
        <summary>üîë Keywords</summary>
        <div class="crx_taglist"><span class="crx_tag">AI</span><span class="crx_tag">ML</span><span
            class="crx_tag">Data Science</span></div>
      </details>

      <details id="topics" data-crx-section="topics">
        <summary>üìò Topics (with SVG placeholders)</summary>
        <article class="crx_topic_card" aria-labelledby="t1-title">
          <div class="crx_topic_media" aria-hidden="true">
            <svg viewBox="0 0 320 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="topic 1">
              <rect width="320" height="220" rx="14" fill="#eaf2ff"></rect>
              <text x="160" y="110" text-anchor="middle" fill="#2b5fa8" font-size="20">Python ‚Ä¢ Data</text>
            </svg>
          </div>
          <div class="crx_topic_body">
            <h3 id="t1-title">Topic 1 ‚Äî Python for Data Science (DUMMY)</h3>
            <p class="crx_p">[DUMMY] Paragraph describing arrays, lists, dicts, and when to use them in data workflows.
            </p>
            <div class="crx_code_block">
              <button class="crx_btn crx_copy_btn" data-target="code1" aria-label="Copy code">Copy</button>
              <pre><code id="code1"># Dummy example
import pandas as pd
print("Hello")</code></pre>
            </div>
          </div>
        </article>
      </details>

      <details data-crx-section="summary">
        <summary>üßæ Summary</summary>
        <p class="crx_p">[DUMMY] Short course summary.</p>
      </details>

      <details data-crx-section="mcqs">
        <summary>üß© MCQs (Interactive)</summary>
        <div class="crx_mcq" data-qid="q1" style="margin-bottom:0.8rem;">
          <div><strong>Q1:</strong> Which library is used for DataFrames?</div>
          <div class="crx_opt_list" style="margin-top:0.5rem;">
            <div class="crx_opt" data-val="A">A. NumPy</div>
            <div class="crx_opt" data-val="B">B. Pandas</div>
          </div>
          <div style="margin-top:8px;">
            <button class="crx_btn crx_mcq_check">Check</button>
            <button class="crx_btn crx_btn_outline crx_mcq_show_answer" style="margin-left:8px;">Show Answer</button>
          </div>
          <div class="crx_mcq_feedback" style="margin-top:8px;display:none;"></div>
        </div>
        <div style="margin-top:0.5rem;"><strong>Score:</strong> <span id="mcqScore">0 / 0</span></div>
      </details>

      <details data-crx-section="assignments">
        <summary>üßÆ Assignments</summary>
        <ol>
          <li>[DUMMY] Assignment 1</li>
        </ol>
      </details>

      <details data-crx-section="reading">
        <summary>üìö Future Reading</summary>
        <ul class="crx_list">
          <li>[DUMMY] Book A</li>
        </ul>
      </details>

      <details data-crx-section="links">
        <summary>üîó Important Links</summary>
        <ul class="crx_list">
          <li><a href="#">[DUMMY] Starter notebook</a></li>
        </ul>
      </details>

      <details data-crx-section="comments">
        <summary>üí¨ Comments</summary>
        <div class="crx_comments" id="crxComments">
          <div style="display:flex;gap:0.5rem;align-items:center;margin-bottom:8px;">
            <input id="commentName" placeholder="Your name"
              style="flex:0 0 200px;padding:8px;border-radius:8px;border:1px solid #ddd;">
            <input id="commentText" placeholder="Write a comment..."
              style="flex:1;padding:8px;border-radius:8px;border:1px solid #ddd;">
            <button id="commentAdd" class="crx_btn">Post</button>
          </div>
          <div id="commentList"></div>
        </div>
      </details>

      <hr>
      <div style="display:flex;justify-content:space-between;align-items:center;gap:1rem;">
        <div style="color:var(--muted);font-size:0.92rem;">¬© 2025 Learning Sutras ‚Äî Champak Roy</div>
        <div class="crx_cert_wrap" id="certWrap" style="display:none;">
          <button id="generateCert" class="crx_btn crx_btn_primary">Generate Certificate</button>
        </div>
      </div>
    </section>
  </article>

  <script>
    (function () {
      // helper selectors
      const $ = (s, r = document) => r.querySelector(s);
      const $$ = (s, r = document) => Array.from((r || document).querySelectorAll(s));

      // Wait for DOM ready to be safe (Blogger sometimes injects)
      function ready(fn) {
        if (document.readyState !== 'loading') fn();
        else document.addEventListener('DOMContentLoaded', fn);
      }

      ready(function () {
        /* ---------- Elements ---------- */
        const toc = $('#crxToc');
        const tocList = $('#crxTocList');
        const tocToggleBtn = $('#crxTocToggleBtn');
        const TOC_KEY = 'crx_toc_hidden_v1';

        // If elements missing, gracefully exit
        if (!toc || !tocList || !tocToggleBtn) {
          console.warn('TOC or toggle button not found');
          return;
        }

        /* ---------- Build TOC from details[ data-crx-section ] ---------- */
        function buildToc() {
          const details = $$('details[data-crx-section]');
          tocList.innerHTML = '';
          details.forEach((d, i) => {
            const s = d.querySelector('summary');
            if (!s) return;
            const title = s.textContent.trim();
            // create id if not present
            if (!d.id) d.id = 'crx_section_' + i;
            const a = document.createElement('a');
            a.href = '#' + d.id;
            a.innerHTML = title;
            a.setAttribute('role', 'link');
            a.addEventListener('click', (ev) => {
              ev.preventDefault();
              // open and scroll into view
              d.open = true;
              d.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
            tocList.appendChild(a);
          });

          // highlight active while scrolling
          function onScrollHighlight() {
            let activeIndex = -1;
            details.forEach((d, idx) => {
              const r = d.getBoundingClientRect();
              if (r.top <= 140 && r.bottom > 80) activeIndex = idx;
            });
            Array.from(tocList.children).forEach((a, idx) => a.classList.toggle('active', idx === activeIndex));
          }
          window.removeEventListener('scroll', onScrollHighlight);
          window.addEventListener('scroll', onScrollHighlight);
          onScrollHighlight();
        }
        buildToc();

        /* ---------- Toggle handling (robust) ---------- */
        function setTocHidden(hidden, save = true) {
          if (hidden) {
            toc.classList.add('hidden');
            tocToggleBtn.setAttribute('aria-expanded', 'false');
            tocToggleBtn.title = 'Open contents';
            tocToggleBtn.innerHTML = '‚ò∞';
          } else {
            toc.classList.remove('hidden');
            tocToggleBtn.setAttribute('aria-expanded', 'true');
            tocToggleBtn.title = 'Close contents';
            tocToggleBtn.innerHTML = '‚úñ';
          }
          if (save) localStorage.setItem(TOC_KEY, hidden ? '1' : '0');
        }

        // restore state from storage (default: hidden on small screens, shown on larger)
        const stored = localStorage.getItem(TOC_KEY);
        if (stored === '1') setTocHidden(true, false);
        else if (stored === '0') setTocHidden(false, false);
        else {
          // default behavior: show on desktop, hide on small screens
          if (window.innerWidth < 980) setTocHidden(true, false);
          else setTocHidden(false, false);
        }

        // click toggles
        tocToggleBtn.addEventListener('click', function () {
          const isHidden = toc.classList.contains('hidden');
          setTocHidden(!isHidden, true);
        });

        // keyboard accessibility (Enter/Space toggles)
        tocToggleBtn.addEventListener('keydown', function (e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            tocToggleBtn.click();
          }
        });

        /* ---------- Other features (copy, mcq, theme, comments, progress) ---------- */

        // Copy buttons
        $$('.crx_copy_btn').forEach(btn => {
          btn.addEventListener('click', async () => {
            const target = btn.getAttribute('data-target');
            const codeEl = document.getElementById(target);
            if (!codeEl) return;
            const text = codeEl.innerText;
            try {
              await navigator.clipboard.writeText(text);
              const old = btn.innerText;
              btn.innerText = 'Copied';
              setTimeout(() => btn.innerText = old, 1200);
            } catch (e) {
              // fallback
              const range = document.createRange();
              range.selectNodeContents(codeEl);
              const sel = window.getSelection();
              sel.removeAllRanges();
              sel.addRange(range);
              try {
                document.execCommand('copy');
                btn.innerText = 'Copied';
                setTimeout(() => btn.innerText = 'Copy', 1200);
              } catch (err) {
                alert('Copy failed ‚Äî select and copy manually.');
              }
              sel.removeAllRanges();
            }
          });
        });

        // MCQs (simple)
        const mcqAnswers = { q1: 'B' }; // dummy
        const mcqBlocks = $$('.crx_mcq');
        function updateMcqScore() {
          const total = mcqBlocks.length;
          const correct = mcqBlocks.filter(b => b.dataset.ok === '1').length;
          const el = document.getElementById('mcqScore');
          if (el) el.textContent = correct + ' / ' + total;
        }
        mcqBlocks.forEach(block => {
          const qid = block.getAttribute('data-qid');
          const options = Array.from(block.querySelectorAll('.crx_opt'));
          const checkBtn = block.querySelector('.crx_mcq_check');
          const showBtn = block.querySelector('.crx_mcq_show_answer');
          const feedback = block.querySelector('.crx_mcq_feedback');
          options.forEach(opt => opt.addEventListener('click', () => {
            options.forEach(o => o.classList.remove('selected'));
            opt.classList.add('selected');
          }));
          if (checkBtn) {
            checkBtn.addEventListener('click', () => {
              const sel = block.querySelector('.crx_opt.selected');
              if (!sel) { feedback.style.display = 'block'; feedback.innerText = 'Please select an option.'; return; }
              const choice = sel.getAttribute('data-val');
              const correct = mcqAnswers[qid] === choice;
              options.forEach(o => o.classList.remove('correct', 'wrong'));
              if (correct) { sel.classList.add('correct'); block.dataset.ok = '1'; feedback.innerText = 'Correct ‚úÖ'; }
              else { sel.classList.add('wrong'); block.dataset.ok = '0'; feedback.innerText = 'Incorrect ‚Äî correct: ' + (mcqAnswers[qid] || 'N/A'); }
              feedback.style.display = 'block';
              updateMcqScore();
            });
          }
          if (showBtn) {
            showBtn.addEventListener('click', () => {
              feedback.style.display = 'block';
              feedback.innerText = 'Answer: ' + (mcqAnswers[qid] || 'N/A');
            });
          }
        });
        updateMcqScore();

        // Theme toggle
        const themeKey = 'crx_theme_v1';
        const themeBtn = $('#crxThemeToggle');
        function applyTheme(t) {
          if (t === 'dark') document.documentElement.classList.add('crx_dark');
          else document.documentElement.classList.remove('crx_dark');
          themeBtn.textContent = t === 'dark' ? '‚òÄÔ∏è' : 'üåô';
          themeBtn.setAttribute('aria-pressed', t === 'dark' ? 'true' : 'false');
        }
        const savedTheme = localStorage.getItem(themeKey) || (window.matchMedia && window.matchMedia('(prefers-color-scheme:dark)').matches ? 'dark' : 'light');
        applyTheme(savedTheme);
        themeBtn.addEventListener('click', () => {
          const next = document.documentElement.classList.contains('crx_dark') ? 'light' : 'dark';
          applyTheme(next);
          localStorage.setItem(themeKey, next);
        });

        // Reading time
        function calcReadingTime() {
          const text = $('#post-content').innerText || '';
          const words = text.trim().split(/\s+/).filter(Boolean).length;
          const wpm = 200;
          const minutes = Math.max(1, Math.round(words / wpm));
          const el = $('#readingTime');
          if (el) el.textContent = '‚è± ' + minutes + ' min read';
        }
        calcReadingTime();

        // Comments (local)
        const commentsKey = 'crx_comments_v1';
        function renderComments() {
          const list = $('#commentList');
          const raw = localStorage.getItem(commentsKey);
          const arr = raw ? JSON.parse(raw) : [];
          list.innerHTML = '';
          if (!arr.length) { list.innerHTML = '<div style="color:var(--muted)">No comments yet ‚Äî be first!</div>'; return; }
          arr.slice().reverse().forEach(c => {
            const card = document.createElement('div');
            card.style.padding = '8px';
            card.style.borderBottom = '1px solid rgba(0,0,0,0.04)';
            card.innerHTML = '<strong>' + escapeHtml(c.name) + '</strong> <small style="color:var(--muted);margin-left:8px;">' + new Date(c.t).toLocaleString() + '</small><div style="margin-top:6px;">' + escapeHtml(c.text) + '</div>';
            list.appendChild(card);
          });
        }
        function escapeHtml(s) { return String(s).replaceAll('&', '&amp;').replaceAll('<', '&lt;').replaceAll('>', '&gt;'); }
        $('#commentAdd').addEventListener('click', () => {
          const name = $('#commentName').value.trim() || 'Anonymous';
          const text = $('#commentText').value.trim();
          if (!text) return alert('Please type a comment.');
          const raw = localStorage.getItem(commentsKey);
          const arr = raw ? JSON.parse(raw) : [];
          arr.push({ name, text, t: Date.now() });
          localStorage.setItem(commentsKey, JSON.stringify(arr));
          $('#commentText').value = '';
          renderComments();
        });
        renderComments();

        // Progress bar based on opened details
        const progressBar = $('#crxProgress');
        function updateProgress() {
          const details = $$('details[data-crx-section]');
          if (!details.length) return;
          const total = details.length;
          const opened = details.filter(d => d.open).length;
          const pct = Math.round((opened / total) * 100);
          progressBar.style.width = pct + '%';
          // show generate certificate if all opened
          const certWrap = $('#certWrap');
          if (certWrap) certWrap.style.display = opened >= total ? 'flex' : 'none';
        }
        updateProgress();
        $$('details[data-crx-section]').forEach(d => d.addEventListener('toggle', updateProgress));
        window.addEventListener('resize', updateProgress);
        window.addEventListener('scroll', updateProgress);

        // Certificate (simple)
        const certBtn = $('#generateCert');
        if (certBtn) {
          certBtn.addEventListener('click', () => {
            const name = prompt('Enter name for certificate', 'Learner Name');
            if (!name) return;
            const w = 1200, h = 675;
            const c = document.createElement('canvas'); c.width = w; c.height = h;
            const ctx = c.getContext('2d');
            const g = ctx.createLinearGradient(0, 0, w, 0); g.addColorStop(0, '#0b5ed7'); g.addColorStop(1, '#5bc0eb');
            ctx.fillStyle = g; ctx.fillRect(0, 0, w, h);
            ctx.fillStyle = '#fff'; ctx.beginPath(); ctx.moveTo(60 + 20, 60); ctx.lineTo(w - 60 - 20, 60); ctx.arcTo(w - 60, w - 60, w - 60, h - 60, 20); ctx.lineTo(60 + 20, h - 60); ctx.arcTo(60, 60, 60, 60, 20); ctx.closePath(); ctx.fill();
            ctx.fillStyle = '#073b66'; ctx.textAlign = 'center'; ctx.font = 'bold 36px sans-serif'; ctx.fillText('Certificate of Completion', w / 2, 170);
            ctx.font = '20px sans-serif'; ctx.fillText('This certifies that', w / 2, 230);
            ctx.font = 'bold 40px sans-serif'; ctx.fillText(name, w / 2, 300);
            ctx.font = '18px sans-serif'; ctx.fillText('has successfully completed the Learning Sutras 3-Month AI/ML Internship', w / 2, 350);
            ctx.font = '16px sans-serif'; ctx.fillText('Date: ' + (new Date()).toLocaleDateString(), w / 2, 420);
            ctx.font = '20px sans-serif'; ctx.fillText('Champak Roy ‚Äî Learning Sutras', w / 2, 520);
            const url = c.toDataURL('image/png');
            const a = document.createElement('a'); a.href = url; a.download = 'learning-sutras-certificate.png'; a.click();
          });
        }

        // Print handler
        const printBtn = $('#downloadPDF');
        if (printBtn) printBtn.addEventListener('click', () => window.print());

        // Lazy highlight loader on first code click
        let hlLoaded = false;
        function loadHighlight() {
          if (hlLoaded) return; hlLoaded = true;
          const s = document.createElement('script'); s.src = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js';
          s.onload = () => document.querySelectorAll('pre code').forEach(b => window.hljs?.highlightBlock?.(b));
          document.head.appendChild(s);
          const css = document.createElement('link'); css.rel = 'stylesheet'; css.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css'; document.head.appendChild(css);
        }
        document.addEventListener('click', e => { if (e.target.closest('pre') || e.target.classList.contains('crx_copy_btn')) loadHighlight(); });

        // Save "visited" once user clicks anywhere
        document.addEventListener('click', function once() { localStorage.setItem('crx_visited_v1', '1'); document.removeEventListener('click', once); });

        // End ready
      }); // ready
    })(); // IIFE
  </script>

</body>

</html>